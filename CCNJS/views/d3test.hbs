<button type="button" onclick="client.logData()">Press me!</button>
<div id="d3-container"></div>
<script>
  (function ( ){


    var width = 960,
        height = 480;

    var canvas = d3.select( '#d3-container').append( 'svg' )
            .attr( 'width', width )
            .attr( 'height', height )
            .append( 'g' );

    var x = d3.time.scale();

    var update = function( phoneContent ) {
      //update x axis
      console.log( phoneContent.sensorData[0]['envTemp'] );

      var now = new Date();
      x.domain( [now - 20 * 1000, now] ).rangeRound( [0, width] );

      //update data
      var data = canvas.selectAll('cirlce').data( phoneContent.sensorData );
      document.getElementsByTagName('g')[0].innerHTML = "";

      data.attr( 'class', 'update' );

      data.enter().append( 'circle' )
              .attr( 'class', 'enter' )
              .attr( 'r', '2' )
              .attr( 'fill', 'darkgrey');

      data.attr( 'cx', function( d ) { return x( new Date( d.time ) ) } )
          .attr( 'cy', function( d ) { return d.envTemp } );

      data.exit().remove();

    };

    //client.socket.on( 'phoneData', update );


  })();
</script>